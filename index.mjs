// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-read-only-property@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer-array@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-matrix-like@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array-array@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-array@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-incr-min@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/blas-ext-base-gsum@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-min@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-copy@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/stats-base-dists-chisquare-cdf@esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-roundn@esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nan@esm/index.mjs";var x=p,y=h,w=f.isPrimitive,E=c,P=j,T=o;var V=function(e){return function(t){var s,r,i;if(r=4,s=!0,arguments.length>0){if(!y(t))throw new TypeError(T("0dP4K",t));if(E(t,"digits")){if(!x(t.digits))throw new TypeError(T("0dP3b","digits",t.digits));r=t.digits}if(E(t,"decision")){if(!w(t.decision))throw new TypeError(T("0dP30","decision",t.decision));s=t.decision}}i="",i+=e.method,i+="\n\n",i+="Null hypothesis: the two variables are independent",i+="\n\n",i+="    pValue: "+P(e.pValue,-r)+"\n",i+="    statistic: "+P(e.statistic,-r)+"\n",i+="    degrees of freedom: "+e.df+"\n",i+="\n",s&&(i+="Test Decision: ",e.rejected?i+="Reject null in favor of alternative at "+100*e.alpha+"% significance level":i+="Fail to reject null in favor of alternative at "+100*e.alpha+"% significance level",i+="\n");return i}},_={alpha:.05,correct:!0},F=g;var k=function(e,t){var s,r,i,n,a,d,o,l,m,p;if(1===t?(a=e.shape[1],d=e.shape[0],r=e.strides[1],i=e.strides[0]):(a=e.shape[0],d=e.shape[1],r=e.strides[0],i=e.strides[1]),0===a||0===d)return 0;for(s=new F(a),o=e.offset,l=0;l<a;l++){for(p=o+l*r,n=0,m=0;m<d;m++)n+=e.data[p+m*i];s[l]=n}return s},q=i,R=g;var C=function(e,t){var s,r,i=e.length,n=t.length,a=q(new R(i*n),{shape:[i,n]});for(s=0;s<i;s++)for(r=0;r<n;r++)a.set(s,r,e[s]*t[r]);return a},D=g,K=i,N=u;var z=function(e,t){var s,r,i,n,a,d;for(n=e.shape[0],a=e.shape[1],s=K(new D(n*a),{shape:[n,a]}),r=0;r<n;r++)for(i=0;i<a;i++)d=N(e.get(r,i)-t.get(r,i)),s.set(r,i,d);return s},A=f.isPrimitive,B=v.isPrimitive,G=h,H=b,I=c,J=o;var L=e,M=t,O=s,Q=r,S=i,U=n,W=a,X=d,Y=o,Z=l,$=m,ee=V,te=_,se=k,re=C,ie=z,ne=function(e,t){if(!G(t))return new TypeError(J("0dP2h",t));if(I(t,"alpha")){if(e.alpha=t.alpha,!B(e.alpha)||H(e.alpha))return new TypeError(J("0dP8h","alpha",e.alpha));if(e.alpha<0||e.alpha>1)return new RangeError(J("invalid option. `%s` option must be a number on the interval: [0, 1]. Value: `%s`.","alpha",e.alpha))}return I(t,"correct")&&(e.correct=t.correct,!A(e.correct))?new TypeError(J("0dP30","correct",e.simulate)):null};var ae=function(e,t){var s,r,i,n,a,d,o,l,m,p,h,f,c,j,g,u,v,b;if(Q(e)&&(e=S(e)),!O(e))throw new TypeError(Y("invalid argument. First argument must be an array of arrays or a two-dimensional ndarray-like object. Value: `%s`.",e));if(!M(e.data))throw new TypeError(Y("invalid argument. First argument must contain nonnegative integers. Value: `%s`.",e));if(p=Z(te),arguments.length>1&&(c=ne(p,t)))throw c;for(g=W(e.length,e.data,1),l=e.shape[0],m=e.shape[1],r=se(e,1),i=se(e,2),d=re(i,r),v=0;v<d.length;v++)d.data[v]/=g;if(s=ie(e,d),p.correct&&2===l&&2===m){for(n=U(),v=0;v<s._buffer.length;v++)n(s._buffer[v]);for(a=X(.5,n()),v=0;v<s._buffer.length;v++)s._buffer[v]-=a}for(v=0;v<l;v++)for(b=0;b<m;b++)u=s.get(v,b)*s.get(v,b)/d.get(v,b),s.set(v,b,u);return f=W(s.length,s._buffer,1),h=1-$(f,o=(l-1)*(m-1)),L(j={},"rejected",h<=p.alpha),L(j,"alpha",p.alpha),L(j,"pValue",h),L(j,"df",o),L(j,"expected",d),L(j,"statistic",f),L(j,"method","Chi-square independence test"),L(j,"print",ee(j)),j};export{ae as default};
//# sourceMappingURL=index.mjs.map
